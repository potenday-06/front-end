#!/bin/sh

echo "ğŸš€ pre-push í›… ì‹¤í–‰ë¨"
echo "Remote: $1"
echo "URL: $2"

FORBIDDEN_HTTPS_URL="https://github.com/potenday-06/front-end.git" # ë ˆí¬ https url 
FORBIDDEN_SSH_URL="git@github.com:potenday-06/front-end.git" # ë ˆí¬ ssh url
FORBIDDEN_REF_MAIN="main"
FORBIDDEN_REF_DEV="develop"

# í˜„ì¬ ë¸Œëœì¹˜ ê°€ì ¸ì˜¤ê¸°
current_branch=$(git rev-parse --abbrev-ref HEAD)
echo "í˜„ì¬ í‘¸ì‰¬í•˜ëŠ” ë¸Œëœì¹˜: $current_branch"

if [ "$current_branch" = "$FORBIDDEN_REF_MAIN" ] || [ "$current_branch" = "$FORBIDDEN_REF_DEV" ]; then
    echo "ğŸš« MAIN OR DEVELOP ë¸Œëœì¹˜ë¡œ ì§ì ‘ PUSH í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤! ğŸš«"
    exit 1
fi

echo "âœ… Push í—ˆìš©ë¨"
exit 0